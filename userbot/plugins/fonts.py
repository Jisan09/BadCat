from . import fonts


@bot.on(admin_cmd(pattern="fmusical(.*)", command="fmusical (.*)"))
@bot.on(sudo_cmd(pattern="fmusical(.*)", command="fmusical (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normalfontcharacter in string:
        if normalfontcharacter in fonts.normalfont:
            musicalcharacter = fonts.musicalfont[
                fonts.normalfont.index(normalfontcharacter)
            ]
            string = string.replace(normalfontcharacter, musicalcharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="ancient(.*)", command="ancient (.*)"))
@bot.on(sudo_cmd(pattern="ancient(.*)", command="ancient (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normalfontcharacter in string:
        if normalfontcharacter in fonts.normalfont:
            ancientcharacter = fonts.ancientfont[
                fonts.normalfont.index(normalfontcharacter)
            ]
            string = string.replace(normalfontcharacter, ancientcharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="vapor(.*)", command="vapor (.*)"))
@bot.on(sudo_cmd(pattern="vapor(.*)", command="vapor (.*)", allow_sudo=True))
async def vapor(vpr):
    """ Vaporize everything! """
    if not vpr.text[0].isalpha() and vpr.text[0] not in (";"):
        reply_text = list()
        textx = await vpr.get_reply_message()
        message = vpr.pattern_match.group(1)
        if message:
            pass
        elif textx:
            message = textx.text
        else:
            await edit_or_reply(vpr, "`ÔºßÔΩâÔΩñÔΩÖ ÔΩìÔΩèÔΩçÔΩÖ ÔΩîÔΩÖÔΩòÔΩî ÔΩÜÔΩèÔΩí ÔΩñÔΩÅÔΩêÔΩèÔΩíÔºÅ`")
            return

        for charac in message:
            if 0x21 <= ord(charac) <= 0x7F:
                reply_text.append(chr(ord(charac) + 0xFEE0))
            elif ord(charac) == 0x20:
                reply_text.append(chr(0x3000))
            else:
                reply_text.append(charac)

        await edit_or_reply(vpr, "".join(reply_text))


@bot.on(admin_cmd(pattern="smallcaps(.*)", command="smallcaps (.*)"))
@bot.on(sudo_cmd(pattern="smallcaps(.*)", command="smallcaps (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normaltextcharacter in string:
        if normaltextcharacter in fonts.normaltext:
            smallcapscharacter = fonts.smallcapsfont[
                fonts.normaltext.index(normaltextcharacter)
            ]
            string = string.replace(normaltextcharacter, smallcapscharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="blackbf(.*)", command="blackbf (.*)"))
@bot.on(sudo_cmd(pattern="blackbf(.*)", command="blackbf (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normaltextcharacter in string:
        if normaltextcharacter in fonts.normaltext:
            bubblesblackcharacter = fonts.bubblesblackfont[
                fonts.normaltext.index(normaltextcharacter)
            ]
            string = string.replace(normaltextcharacter, bubblesblackcharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="bubbles(.*)", command="bubbles (.*)"))
@bot.on(sudo_cmd(pattern="bubbles(.*)", command="bubbles (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normaltextcharacter in string:
        if normaltextcharacter in fonts.normaltext:
            bubblescharacter = fonts.bubblesfont[
                fonts.normaltext.index(normaltextcharacter)
            ]
            string = string.replace(normaltextcharacter, bubblescharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="tanf(.*)", command="tanf (.*)"))
@bot.on(sudo_cmd(pattern="tanf(.*)", command="tanf (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normaltextcharacter in string:
        if normaltextcharacter in fonts.normaltext:
            tantextcharacter = fonts.tantextfont[
                fonts.normaltext.index(normaltextcharacter)
            ]
            string = string.replace(normaltextcharacter, tantextcharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="boxf(.*)", command="boxf (.*)"))
@bot.on(sudo_cmd(pattern="boxf(.*)", command="boxf (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normaltextcharacter in string:
        if normaltextcharacter in fonts.normaltext:
            littleboxtextcharacter = fonts.littleboxtextfont[
                fonts.normaltext.index(normaltextcharacter)
            ]
            string = string.replace(normaltextcharacter, littleboxtextcharacter)
    await edit_or_reply(event, string)


@bot.on(admin_cmd(pattern="smothtext(.*)", command="smothtext (.*)"))
@bot.on(sudo_cmd(pattern="smothtext(.*)", command="smothtext (.*)", allow_sudo=True))
async def stylish_generator(event):
    args = event.pattern_match.group(1)
    if not args:
        get = await event.get_reply_message()
        args = get.text
    if not args:
        await edit_or_reply(event, "What I am Supposed to change give text")
        return
    string = "  ".join(args).lower()
    for normaltextcharacter in string:
        if normaltextcharacter in fonts.normaltext:
            smothtextcharacter = fonts.smothtextfont[
                fonts.normaltext.index(normaltextcharacter)
            ]
            string = string.replace(normaltextcharacter, smothtextcharacter)
    await edit_or_reply(event, string)


CMD_HELP.update(
    {
        "fonts": "__**PLUGIN NAME :** Fonts__\
        \n\nüìå** CMD ‚û•** `.fmusical` | `.ancient` | `.vapor` | `.smallcaps` | `.blackbf` | `.bubbles` | `.tanf` | `.boxf` | `.smothtext` \
        \n\n**USAGE   ‚û•  **Use cmd <text> , it will change your text to that font.\
        \n\n**Example :** `.fmusical hello there`"
    }
)
